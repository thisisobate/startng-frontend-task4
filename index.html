<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Take a Quiz</title>
  </head>
  <style>
    * {
      text-align: center;
    }

    input {
      margin-right: 15px;
    }

    .bg_green {
      background-color: green;
      color: #fff;
    }

    .next {
      text-decoration: none;
      color: #fff;
      padding: 8px 15px;
      background-color: green;
      margin-top: 20px;
    }

    .slide {
      position: absolute;
      left: 0px;
      top: 0px;
      width: 100%;
      z-index: 1;
      opacity: 0;
      transition: opacity 0.5s;
    }
    .active-slide {
      opacity: 1;
      z-index: 2;
    }
    .quiz-container {
      position: relative;
      height: 200px;
      margin-top: 40px;
    }
  </style>
  <body>
    <h4>How well did you know about HNG Internship?</h4>

    <!-- <div class="container">
      <h5>What year was the HNG Internship founded?</h5>

      <div class="options">
        <div class="box">
          <label for="">2015 </label>
          <input type="radio" name="option" id="2012" />
        </div>

        <div class="box">
          <label for="">2012 </label>
          <input type="radio" name="option" id="2015" />
        </div>

        <div class="box">
          <label for="">2017 </label>
          <input type="radio" name="option" id="correct" />
        </div>
      </div>

      <br /><br />

      <div class="next_button">
        <a href="#" class="next">Next</a>
      </div>
    </div>

    <div class="container">
      <h5>What year was the HNG Internship founded?</h5> -->

    <!-- <div class="options">
        <div class="box">
          <label for="">2015 </label>
          <input type="radio" name="option" id="2012" />
        </div>

        <div class="box">
          <label for="">2012 </label>
          <input type="radio" name="option" id="2015" />
        </div>

        <div class="box">
          <label for="">2017 </label>
          <input type="radio" name="option" id="correct" />
        </div>
      </div>

      <br /><br />

      <div class="next_button">
        <a href="#" class="next">Next</a>
      </div>
    </div>

    <div class="container">
      <h5>What year was the HNG Internship founded?</h5>

      <div class="options">
        <div class="box">
          <label for="">2015 </label>
          <input type="radio" name="option" id="2012" />
        </div>

        <div class="box">
          <label for="">2012 </label>
          <input type="radio" name="option" id="2015" />
        </div>

        <div class="box">
          <label for="">2017 </label>
          <input type="radio" name="option" id="correct" />
        </div>
      </div>

      <br /><br />

      <div class="next_button">
        <a href="#" class="next">Next</a>
      </div>
    </div>

    <div class="container">
      <h5>What year was the HNG Internship founded?</h5>

      <div class="options">
        <div class="box">
          <label for="">2015 </label>
          <input type="radio" name="option" id="2012" />
        </div>

        <div class="box">
          <label for="">2012 </label>
          <input type="radio" name="option" id="2015" />
        </div>

        <div class="box">
          <label for="">2017 </label>
          <input type="radio" name="option" id="correct" />
        </div>
      </div>

      <br /><br />

      <div class="next_button">
        <a href="#" class="next">Next</a>
      </div>
    </div>

    <div class="container">
      <h5>What year was the HNG Internship founded?</h5>

      <div class="options">
        <div class="box">
          <label for="">2015 </label>
          <input type="radio" name="option" id="2012" />
        </div>

        <div class="box">
          <label for="">2012 </label>
          <input type="radio" name="option" id="2015" />
        </div>

        <div class="box">
          <label for="">2017 </label>
          <input type="radio" name="option" id="" />
        </div>
      </div>
    </div>

    <script>
      let scoreboard = 0;
      let correct = document.getElementById('correct');
      correct.addEventListener('click', function () {
        scoreboard = scoreboard + 1;
        correct.parentElement.classList.toggle('bg_green');
      });
    </script> -->

    <div class="quiz-container">
      <div id="questionWrapper"></div>
    </div>
    <button id="previous">Previous</button>
    <button id="next">Next Question</button>
    <button id="submit">Submit</button>
    <div id="result"></div>
    <script>
      // declaring variables and assigning variables to DOM elements
      let questionHolder = document.getElementById('questionWrapper');
      let resultHolder = document.getElementById('result');
      let submitButton = document.getElementById('submit');

      let questionsContainer = [
        // first question
        {
          question: 'How many days are there in a week?',
          answers: {
            a: '5',
            b: '3',
            c: '7',
          },
          correctAnswer: 'c',
        },

        // second question
        {
          question: 'How many days are there in a week?',
          answers: {
            a: '5',
            b: '3',
            c: '7',
          },
          correctAnswer: 'c',
        },

        // third question
        {
          question: 'How many days are there in a week?',
          answers: {
            a: '5',
            b: '3',
            c: '7',
          },
          correctAnswer: 'c',
        },
      ];

      function buildQuiz() {
        // variable to store the HTML output
        const output = [];

        // for each question...
        questionsContainer.forEach((currentQuestion, questionNumber) => {
          // variable to store the list of possible answers
          const answers = [];

          // and for each available answer...
          for (letter in currentQuestion.answers) {
            // ...add an HTML radio button
            answers.push(
              `<label>
          <input type="radio" name="question${questionNumber}" value="${letter}">
          ${letter} :
          ${currentQuestion.answers[letter]}
        </label>`
            );
          }

          // add this question and its answers to the output
          output.push(
            `<div class="slide">
            <div class="question"> ${currentQuestion.question} </div>
      <div class="answers"> ${answers.join('')} </div>
      </div>`
          );
        });

        // finally combine our output list into one string of HTML and put it on the page
        questionHolder.innerHTML = output.join('');
      }
      buildQuiz();

      // Pagination
      const previousButton = document.getElementById('previous');
      const nextButton = document.getElementById('next');
      const slides = document.querySelectorAll('.slide');
      let currentSlide = 0;

      function showSlide(n) {
        slides[currentSlide].classList.remove('active-slide');
        slides[n].classList.add('active-slide');
        currentSlide = n;
        if (currentSlide === 0) {
          previousButton.style.display = 'none';
        } else {
          previousButton.style.display = 'inline-block';
        }
        if (currentSlide === slides.length - 1) {
          nextButton.style.display = 'none';
          submitButton.style.display = 'inline-block';
        } else {
          nextButton.style.display = 'inline-block';
          submitButton.style.display = 'none';
        }
      }

      // Show the first slide
      showSlide(currentSlide);

      function showNextSlide() {
        showSlide(currentSlide + 1);
      }

      function showPreviousSlide() {
        showSlide(currentSlide - 1);
      }

      function showResult() {
        // gather answer containers from our quiz
        const answerContainers = questionHolder.querySelectorAll('.answers');

        // keep track of user's answers
        let numCorrect = 0;

        // for each question...
        questionsContainer.forEach((currentQuestion, questionNumber) => {
          // find selected answer
          const answerContainer = answerContainers[questionNumber];
          const selector = `input[name=question${questionNumber}]:checked`;
          const userAnswer = (answerContainer.querySelector(selector) || {})
            .value;

          // if answer is correct
          if (userAnswer === currentQuestion.correctAnswer) {
            // add to the number of correct answers
            numCorrect++;

            // color the answers green
            answerContainers[questionNumber].style.color = 'lightgreen';
          }
          // if answer is wrong or blank
          else {
            // color the answers red
            answerContainers[questionNumber].style.color = 'red';
          }
        });

        // show number of correct answers out of total
        resultHolder.innerHTML = `${numCorrect} out of ${questionsContainer.length}`;
      }

      submitButton.addEventListener('click', showResult);
      previousButton.addEventListener('click', showPreviousSlide);
      nextButton.addEventListener('click', showNextSlide);
    </script>
  </body>
</html>
